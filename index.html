<form id="findByPosition">
    <input type="number" placeholder="0" step="0.0000000001" id="latitude"/>
    <input type="number" placeholder="0" step="0.0000000001" id="longitude"/>
    <input type="button" value="Auto" id="auto"/>
    <input type="submit" value="Rechercher par position"/>
</form>

<script>
    const latitude = document.getElementById('latitude');
    const longitude = document.getElementById('longitude');
    const auto = document.getElementById('auto');

    auto.addEventListener('click', function() {
        if (navigator.geolocation)
            navigator.geolocation.getCurrentPosition(function(result) {
                latitude.value = result.coords.latitude;
                longitude.value = result.coords.longitude;
            });
    });

    const findByPosition = document.getElementById('findByPosition');

    findByPosition.addEventListener('submit', function(event) {
        event.preventDefault();

        (async function() {
            const result = await fetch('http://localhost:1769/findByPosition', {
                method: 'POST',
                body: JSON.stringify({
                    latitude: latitude.value,
                    longitude: longitude.value
                }),
                headers: {
                    'Content-Type': 'application/json'
                }
            });

            const data = await result.json();

            console.log(data);
        })();
        
        return false;
    });
</script>